"use client" import { useState } from "react" import { Button } from "@/components/ui/button" import { Input } from "@/components/ui/input" interface QuantitySelectorProps { initialQuantity?: number onQuantityChange: (quantity: number) => void } export default function QuantitySelector({ initialQuantity = 1, onQuantityChange }: QuantitySelectorProps) { const [quantity, setQuantity] = useState(initialQuantity) const handleDecrement = () => { setQuantity((prev) => { const newQuantity = Math.max(1, prev - 1) onQuantityChange(newQuantity) return newQuantity }) } const handleIncrement = () => { setQuantity((prev) => { const newQuantity = prev + 1 onQuantityChange(newQuantity) return newQuantity }) } const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => { const value = parseInt(e.target.value, 10) if (!isNaN(value) && value >= 1) { setQuantity(value) onQuantityChange(value) } else if (e.target.value === "") { setQuantity(0) onQuantityChange(0) } } const handleBlur = () => { if (quantity === 0) { setQuantity(1) onQuantityChange(1) } } return ( <div className="flex items-center space-x-2"> <Button variant="outline" size="icon" onClick={handleDecrement} disabled={quantity <= 1}> - </Button> <Input type="number" value={quantity} onChange={handleChange} onBlur={handleBlur} className="w-20 text-center" min="1" /> <Button variant="outline" size="icon" onClick={handleIncrement}> + </Button> </div> ) }